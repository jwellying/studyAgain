<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 数组扁平化的实现
        // 思路：遍历数组，判断当前项是否是数组
        // 如果是数组，递归遍历
        // 如果不是数组，保存
        let arr = [1,[2,[3,[4]]]];
        // 方法一
        // function flaten(arr){
        //     let result = [];
        //     for(let i = 0;i < arr.length;i++){
        //         if(Array.isArray(arr[i])){
        //             result = result.concat(flaten(arr[i]));
        //         }else{
        //             result.push(arr[i]);
        //         }
        //     }
        //     return result;
        // }
        // 方法二(局限于数组中仅有数字的情形)
        // function flaten(arr){
        //     return arr.toString().split(',').map((item)=>{
        //         return +item;
        //     })
        // }

        // let res = flaten(arr);
        // console.log(res);
        // 方法三(使用reduce计算)
        // reduce将数组的数据计算处理之后返回
        // let result = [];
        function flaten(arr){
            return arr.reduce((prev,next) => {
                // console.log(prev);
                // console.log(next);
                // if(Array.isArray(next)){
                //     return prev.concat(flaten(next));
                // }else{
                //     return prev.concat(next);
                // }
                return prev.concat((Array.isArray(next))?flaten(next):next)
            },[])
        }
        console.log(flaten(arr));
        
        
    </script>
</body>
</html>