<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script type="text">
        //认识闭包一
        function fn(){
            var a=5;
            return function(){
                a++;
                console.log(a);
            }
        }
        var f1=fn();
        f1();
        f1();
        f1();
        f1();
        //代码执行到18行，函数fn执行完成，按理来说a变量会被释放，
        //但是匿名函数要使用a变量，所以a变量会被保留
    </script>
    <script type="text">
        function fn(){
            var a = 5;
            return function(){
                a++;
                console.log(a);
            }
        }
        var f1=fn();
        f1(); //6
        var f2=fn(); //又执行了一遍fn，重新初始化了a
        f2(); //6
        var f3=fn();
        f3(); //6
    </script>
    <script>
        //举例一
        function fn(){
            var a={};
            return a;
        }
        var o1=fn(); //创建了一个新的a对象
        var o2=fn(); //创建了一个新的a对象
        console.log(o1==o2);
        //举例二
        function fn1(){
            var a={};
            return function(){
                return a;
            }
        }
        var f1=fn1(); //创建了一个新的a对象
        var o3=f1();
        var o4=f1();
        console.log(o3==o4);
        
    </script>
</body>
</html>