# 什么是SSR
SSR即服务端渲染
在解释服务端渲染(SSR)之前，我们先来回顾一下前端的发展史；
在早期的web开发中，前后端并未分离，我们在后端代码中编写前端代码，让服务器去拼接html然后渲染到页面是哪个，从某种意义上讲，这就是早期的服务端渲染(SSR)；
随着前后端分离的开发方式流行起来之后，前端的代码和后端的代码开始分离，前端通过后端提供的接口方式来调用数据，然后进行页面的渲染，这就是客户端渲染(CSR)；
# 客户端渲染的流程
在使用vue或者react进行应用开发的时候，当我们打包一个项目然后run serve的时候，浏览器开始请求数据，后端返回一个默认的首页的html，大概如下：
```html
<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8>
    <meta name=viewport content="width=device-width,initial-scale=1">
    <title>my-project</title>
    <link href=/static/css/app.9a15f6bea5bb180d6f0afa85aa74dc0c.css rel=stylesheet>
</head>

<body>
    <div id=app></div>
    <script type=text/javascript src=/static/js/manifest.2ae2e69a05c33dfc65f8.js></script>
    <script type=text/javascript src=/static/js/vendor.f305e4533ca4c7c3d24d.js></script>
    <script type=text/javascript src=/static/js/app.1977a25efb122e37cbdd.js></script>
</body>

</html>
```
我们可以看到index.html文件中只包含了一句<div id=app></div>，那么我们的页面是如何渲染的呢？
过程：
浏览器拿到index.html开始下载——>解析html语句开始下载js、css资源——>解析vue、react代码——>请求页面数据——>页面渲染完成

# 服务端渲染流程
而服务端渲染十分简单
浏览器请求页面——>服务端解析好html——>返回html前端直接渲染到页面

## 服务器端渲染的优缺点是？
**优点：**
1. 前端耗时少。因为后端拼接完了html，浏览器只需要直接渲染出来。
2. 有利于SEO。因为在后端有完整的html页面，所以爬虫更容易爬取获得信息，更有利于seo。
3. 无需占用客户端资源。即解析模板的工作完全交由后端来做，客户端只要解析标准的html页面即可，这样对于客户端的资源占用更少，尤其是移动端，也可以更省电。
4. 后端生成静态化文件。即生成缓存片段，这样就可以减少数据库查询浪费的时间了，且对于数据变化不大的页面非常高效 。
**缺点：**
1. 不利于前后端分离，开发效率低。使用服务器端渲染，则无法进行分工合作，则对于前端复杂度高的项目，不利于项目高效开发。另外，如果是服务器端渲染，则前端一般就是写一个静态html文件，然后后端再修改为模板，这样是非常低效的，并且还常常需要前后端共同完成修改的动作； 或者是前端直接完成html模板，然后交由后端。另外，如果后端改了模板，前端还需要根据改动的模板再调节css，这样使得前后端联调的时间增加。
2. 占用服务器端资源。即服务器端完成html模板的解析，如果请求较多，会对服务器造成一定的访问压力。而如果使用前端渲染，就是把这些解析的压力分摊了前端，而这里确实完全交给了一个服务器。

## 客户端渲染的优缺点是？
**优点：**
前后端分离。前端专注于前端UI，后端专注于api开发，且前端有更多的选择性，而不需要遵循后端特定的模板。
体验更好。比如，我们将网站做成SPA或者部分内容做成SPA，这样，尤其是移动端，可以使体验更接近于原生app。
**缺点：**
前端响应较慢。如果是客户端渲染，前端还要进行拼接字符串的过程，需要耗费额外的时间，不如服务器端渲染速度快。
不利于SEO。目前比如百度、谷歌的爬虫对于SPA都是不认的，只是记录了一个页面，所以SEO很差。因为服务器端可能没有保存完整的html，而是前端通过js进行dom的拼接，那么爬虫无法爬取信息。 除非搜索引擎的seo可以增加对于JavaScript的爬取能力，这才能保证seo。
